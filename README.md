# boze  
日本で有名な早口言葉「坊主が屏風に上手に坊主の絵を描いた」を再構築するスクリプト。  
  
## ファイル構成  
|ファイル名|機能/内容|  
|-|-|  
|boze.pl|スクリプト本体。Perlスクリプト。|  
|boze.ini|再構築に使用する言葉を設定するファイル。|  
|boze.txt|デフォルト状態で実行した出力結果。メモ帳やテキストエディットなどテキストエディタで開くと内容が見える。|  
  
## iniファイル作成方法  
iniファイルには「坊主が屏風に上手に坊主の絵を描いた」を再構築するために使用する言葉を記載する。  
先頭が「#」で始まる行は結果に反映されない。コメントとして記載できる。  
先頭や末尾に半角スペースやタブが含まれる場合は除去してから再構築に使用する。  
  
## 実行方法  
1. boze.iniとboze.plを同じディレクトリに配置する。  
2. 次のコマンドを実行する。  
`$ perl boze.pl`  
  
## 処理内容  
boze.iniが下記内容だった場合  
```  
坊主  
屏風  
```  
`perl boze.pl`を実行すると下記のような結果が標準出力に出力される。  
  
|行数|出力|  
|-|-|  
|1|坊主が坊主に坊主で上手に坊主の絵を描いた  
|2|坊主が坊主に坊主で上手に屏風の絵を描いた  
|(略)|(略)|  
|15|屏風が屏風に屏風で上手に坊主の絵を描いた|  
|16|屏風が屏風に屏風で上手に屏風の絵を描いた|  
  
## ライセンス  
MIT  
  
## 制作背景  
ここから先は読みたいやつだけ読め。有用な情報はなにもない。  
★注意★ クソど素人がてきとーにうにょうにょ調べて書いたので全面信用するとやけどするぜ ★注意★  
★注意★ 間違いは気が向くまで修正しないからな ★注意★  
★注意★ どっかから怒られたらリポジトリもろとも削りまーす ★注意★  
  
### ジョーズに食われそうな坊主  
今回いぢり倒す早口言葉は「坊主が屏風に上手に坊主の絵を描いた」だ。次回があるかは知らんが。  
…これって別に「上手」を「ジョーズ」にしても音は変わらんよな。  
だからって  
「坊主が屏風にジョーズに坊主の絵を描いた」  
って言うとなんか変だよな。  
じゃ「屏風」を「ジョーズ」にしてみたら  
「坊主がジョーズに上手に坊主の絵を描いた」  
音は大して変わらないし文章も成立している。  
まぁ坊主が死にそうな風景が広がるけどな。  
  
### 坊主を殺すな  
うむむ。  
世の中的にはどーなのか。  
検索サイトで「坊主 屏風 ジョーズ」で検索してみたところ  
「坊主が屏風に上手にジョーズの絵を描いた」というのが出てきた。  
文章も成立しているし音も問題ない気がする。  
でもおもしろくない。  
だいたい坊主が屏風に絵を描いてる時点で坊主の身の安全が確保されている。  
もっとおもしろくできないか。  
  
### 早口言葉を解析する-品詞編  
「坊主が屏風に上手に坊主の絵を描いた」はどのような要素で構成されているのか。  
こんなサイトを使って調べてみることにした。  
日本語形態素解析サービス 無料ツール | オープンポータル  
https://opendata-web.site/tool/parse/  
[文章入力欄]に「坊主が屏風に上手に坊主の絵を描いた」と入力して[解析]を押すと  
こんな結果が出てきた。  
  
|表記|品詞|  
|-|-|  
|坊主|名詞|  
|が|助詞|  
|屏風|名詞|  
|に|助詞|  
|上手に|形容詞|  
|坊主|名詞|  
|の|助詞|  
|絵|名詞|  
|を|助詞|  
|描いた|動詞|  
  
さっきの「坊主が屏風にジョーズに坊主の絵を描いた」で  
「上手」を「ジョーズ」に変えておかしいと思ったのは  
形容詞(上手)から名詞(ジョーズ)に変えたことが原因だとわかる。  
これによって名詞の部分は交換可能と考えられる。  
さっきの表に「交換可否」列を追加した結果がこれ。  
  
|表記|品詞|交換可否|  
|-|-|-|  
|坊主|名詞|true|  
|が|助詞|false|  
|屏風|名詞|true|  
|に|助詞|false|  
|上手に|形容詞|false|  
|坊主|名詞|true|  
|の|助詞|false|  
|絵|名詞|true|  
|を|助詞|false|  
|描いた|動詞|false|  
  
っつーことで「坊主が屏風に上手に坊主の絵を描いた」の名詞部分をジョーズに変えればいいわけだな。  
「坊主が屏風に上手に坊主のジョーズを描いた」  
え゛ー。  
名詞は名詞でも変えちゃいけない名詞もある。ってことだな。  
  
### 早口言葉を解析する-音節/モーラ編  
「坊主が屏風に上手に坊主の絵を描いた」が早口言葉として成立するのはなぜか。  
似たような音の言葉があるからだな。  
なんだその「似たような音」って。  
これを考えるのに「音節」と「モーラ」の考え方が必要になってくる。  
うまく説明できんので例を示す。たぶんあってると思う。  
わからんかったらてきとーに検索して他サイト見れ。  
  
|例|サンプル|音節分解|モーラ分解|  
|-|-|-|-|  
|1|おかやま|お/か/や/ま/|お/か/や/ま/|  
|2|ひょーご|ひょー/ご|ひょ/ー/ご|  
|3|とっとり|とっ/と/り|と/っ/と/り|  
  
では「坊主」「屏風」「上手」を調べてみる。  
  
|例|サンプル|音節分解|モーラ分解|  
|-|-|-|-|  
|1|ぼーず|ぼー/ず|ぼ/ー/ず|  
|2|びょーぶ|びょー/ぶ|びょ/ー/ぶ|  
|3|じょーず|じょー/ず|じょ/ー/ず|  
  
おわかりいただけただろうか。  
これによって下記のような特徴を捉えられるだろう。  
1. 最初の音節は「お段」の文字  
1. モーラ分解の2番目は音引き(伸ばす)  
1. 最後の音節は「う段」の文字  
  
### 「似たような音」の言葉を一般化する  
  
さっき提示した特徴を一般化するため正規表現でまとめてみる。  
たぶんこうなる。はず。だと思う。  
  
1. [おこごそぞとどのほぼぽもよろを][うー][うくぐすずつづぬふぶぷむゆる]  
1. [おこごそぞとどのほぼぽもよろを][うー][きぎしじちぢにひびぴみり]ゅ  
1. [きぎしじちぢにひびぴみり]ょ[うー][うくぐすずつづぬふぶぷむゆる]  
1. [きぎしじちぢにひびぴみり]ょ[うー][きぎしじちぢにひびぴみり]ゅ  
  
この正規表現で「坊主」も一致する。  
もちろん「屏風」「上手」も一致する。  
腕に覚えのある人なら1つにまとめられるんでしょーけど  
自分にはムリだと早々にあきらめて4パターンを作ってみた。  
ムリして1つにまとめて穴作るよりゃましやろ。  
まぁ作ったはいいけど使う場面がないのよね…。  
広辞苑を正規表現で検索できるのがいちばんいいと思っていたけど  
そんなもんない様子。  
  
ではこの正規表現に一致する言葉は何があるかを考えてみる。  
ジョーズ  
ショール  
チョーク  
…ん?チョーク?  
  
### パラダイムシフト  
チョークは描くための道具だな。  
「坊主が屏風に上手に坊主の絵を描いた」の中には描画手段を指定する部分はない。  
…これは新たに作る必要がありそうだ。  
描画手段を追加した場合の早口言葉を下記のように作成した。  
1. 「チョークで坊主が屏風に上手に坊主の絵を描いた」  
1. 「坊主がチョークで屏風に上手に坊主の絵を描いた」  
1. 「坊主が屏風にチョークで上手に坊主の絵を描いた」  
1. 「坊主が屏風に上手にチョークで坊主の絵を描いた」  
1. 「坊主が屏風に上手に坊主の絵をチョークで描いた」  
  
作成した早口言葉からの採用基準はこれ。  
* 「チョークで」が「絵」にもっとも近くなること(この絵の描画手段を明示するため)  
* 「似たような音」が続くように配置されていること(早口言葉として成立させるため)  
  
採用基準から検討して「坊主が屏風に上手にチョークで坊主の絵を描いた」を採用した。  
  
最終形の早口言葉を改めて解析/交換可否検討した結果がこれ。  
  
|表記|品詞|交換可否|  
|-|-|-|  
|坊主|名詞|true|  
|が|助詞|false|  
|屏風|名詞|true|  
|に|助詞|false|  
|上手に|形容詞|false|  
|チョーク|名詞|true|  
|で|助詞|false|  
|坊主|名詞|true|  
|の|助詞|false|  
|絵|名詞|false|  
|を|助詞|false|  
|描いた|動詞|false|  
  
もう変わらんやろ。  
これによって言葉交換可能部分が4か所となる。  
  
### 再構築早口言葉サンプル  
* 「坊主が坊主に上手に坊主で坊主の絵を描いた」  
わけがわからないだろう。  
一郎坊主が、頭の先に筆をつけた二郎坊主を抱えて、三郎坊主の頭に、四郎坊主の絵を上手に描いた。  
って絵が思い浮かべられるだろう。  
だれかこんな風景を絵に描いてくれんかな…。  
  
* 「坊主がチョークに上手にしょうゆで坊主の絵を描いた」  
わけがわからないだろう。  
四郎坊主が、二郎坊主が持ってきた筆に、三郎坊主が用意したしょうゆをつけて、二郎坊主が持ってきたチョークに、一郎坊主の絵を上手に描いた。  
って絵が思い浮かべられるだろう。  
だれかこんな風景を絵に描いてくれんかな…。  
  
* 「ジョーズが豆腐に上手に坊主でホースの絵を描いた」  
わけがわからないだろう。  
三郎坊主が連れてきたジョーズが、二郎坊主をくわえて、一郎坊主と四郎坊主が支えている巨大豆腐に、ホースの絵を上手に描いた。  
って絵が思い浮かべられるだろう。  
だれかこんな風景を絵に描いてくれんかな…。  
  
といった具合にひたすら組み合わせて出力するスクリプトを作成してみた。  
  
### スクリプトについて  
出力結果は入力言葉の数の言葉交換可能部分数乗行の出力となる。  
例えばこんな感じ。  
入力言葉の数: 10  
言葉交換可能部分数: 4  
出力行数: 入力言葉の数^言葉交換可能部分数=10^4=1000  
  
内容としては再帰呼び出しを使ってみた。  
いままで再帰なんて作ったことないぞ。  
サンプルプログラムをどっかから持ってきて  
思うよーな出力になるようにうにょうにょいぢって完成したので  
再帰について完全に理解できているわけではない。  
作ればわかるかと思ったんだがな…。  
GitHub使いまくっている腕利きの方々からしたら自分なんて鼻くそくらいのもんですわ。  
  
あとPerlだったら`use strict`って書かなきゃいけないんだろ?  
そんなもんない時代のPerlしか知らんから  
`use strict`なしで作っていますよ。  
納得いかない腕利きの方は直して使ってください。  
まぁこんなの直す気になるのか?って話もあると思うけどな。  
  
### 正規表現からの人力検索  
あとは正規表現に一致する言葉を大量に出した中から  
楽しくなりそうなものをboze.iniへ追記していけばよい。  
デフォルトのboze.iniには組み合わせれば楽しそうと思ったものを追記している。  
  
国語辞典を正規表現で検索できるよーなサービスやらツールがあれば使えばいいと思うが  
おもしろ基準でboze.iniに追加するかは人間の判断が必要になる。  
おもしろさを求めるならすべてを自動化するのは無理な話だと思うぞ。  
  
### 違和感を楽しめ  
もしほかにも正規表現に一致したものでおもしろいものがあれば  
boze.iniに追加してboze.plを実行した結果から  
デフォルトになかった再構築早口言葉を見つけ出して  
ニヤニヤするなり、絵にしてみるなり、ご自由にどーぞ。  
楽しみ方は自由。許可申請も不要。無断で勝手に使え。いちいち答えるのめんどくせぇ。  
犯罪とかにならなきゃどーにでもして。  
っつーかこんなの犯罪に使えるやつなんておらんやろ。  
  
### 固有名詞の取り扱い  
正規表現に一致する単語の中には  
固有名詞に相当する単語が存在することがわかるだろう。  
固有名詞についてはboze.iniには含めていない。  
だってー怒られたくないもーん。  
でも固有名詞の中の人がおもしろがって  
boze.iniに含めてboze.plを実行した結果から  
「なんやおもろいもんできたで笑」  
とか言って公表するのは1ミリも問題なしと思う。  
だがしかし。  
無関係の人がやるなら、作るまでならいいけど、公表しない方がいい気がするぞ。  
うっかり公表してなんかあっても知らんからな。  
…でもまぁこーゆーのって固有名詞含めると  
一般名詞より楽しいものができるってのは世の常なのよね。  
「上手」を「ジョーズ」に変換したら楽しくなるようにな。  
…え?おまえはジョーズの関係者なのかって?  
…うーん…どーじゃったかのぅ…(逃)。  
まぁ怒られたらリポジトリもろとも削りまーす。  
  
### 謝謝多謝  
日本語形態素解析サービス 無料ツール | オープンポータル  
https://opendata-web.site/tool/parse/  
中学国語でこのへんのことやったけど忘れてるわね…。  
  
その他日本語関連のサイト  
検索しすぎてどこか覚えてない。  
  
Markdown Live Preview  
https://markdownlivepreview.com  
Markdown記法に不慣れなやつにはこれがなければ書けませんでした。  
